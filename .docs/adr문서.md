# 🧱 ADR: Architecture Decision Record

## 📌 ADR 1: FSM 처리 서버 아키텍처 결정

- **상태:** 승인됨
- **날짜:** 2025-04-19
- **작성자:** 사용자

## 📌 컨텍스트

- 게임 서버에서 상태 기반 로직(FSM)을 독립적으로 처리할 수 있는 백엔드 모듈이 필요합니다.
- 상태 전이는 높은 빈도로 발생하며, 검증/로그/후처리가 필요합니다.
- 비동기 확장성과 로깅을 고려해야 하며, 클라이언트로부터의 요청을 빠르게 응답하는 구조가 바람직합니다.

## 📌 결정

- FastAPI를 메인 API 서버로 채택
- Redis를 FSM 상태 저장 및 Celery 브로커로 사용
- Celery를 FSM 전이 후처리 및 로그 저장용으로 사용
- Flower를 Celery 워커 대시보드로 사용
- FastAPI는 개발 시 로컬에서 핫리로드, 운영 시 도커 배포 분리

### 📌 결과

- 모듈형 FSM 서버 구조 완성
- 비동기 FSM 처리 및 추후 분산 처리 확장 가능
- 상태 정의 JSON 기반으로 유연한 FSM 종류 대응 가능

---
