# 🧭 C4 모델 (Level 1~3 간략 정리)

## 📊 Level 1: System Context

```plaintext
[User] → [FastAPI FSM API] → [Celery Worker + Redis]
                                 ↓
                           [FSM 상태 저장 + 로그 기록]
```

## 🧱 Level 2: Container Diagram

| 컨테이너      | 역할                        | 기술            |
| ------------- | --------------------------- | --------------- |
| FastAPI       | 상태 전이 API 제공          | Python, FastAPI |
| Redis         | 상태 저장소 + 메시지 브로커 | Redis           |
| Celery Worker | FSM 전이 후처리, 로깅       | Celery          |
| Flower        | 워커 모니터링 UI            | mher/flower     |

## ⚙️ Level 3: Component (FSM 서비스 내부)

| 컴포넌트           | 설명                                  |
| ------------------ | ------------------------------------- |
| `fsm_engine.py`    | 상태 전이 규칙 검증 및 전이 실행      |
| `tasks.py`         | Celery 태스크 정의 (`log_transition`) |
| `fsm_definitions/` | FSM 정의 JSON 보관소                  |
| `schema.py`        | 요청 스키마                           |

---
