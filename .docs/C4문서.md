# ğŸ§­ C4 ëª¨ë¸ (Level 1~3 ê°„ëµ ì •ë¦¬)

## ğŸ“Š Level 1: System Context

```plaintext
[User] â†’ [FastAPI FSM API] â†’ [Celery Worker + Redis]
                                 â†“
                           [FSM ìƒíƒœ ì €ì¥ + ë¡œê·¸ ê¸°ë¡]
```

## ğŸ§± Level 2: Container Diagram

| ì»¨í…Œì´ë„ˆ      | ì—­í•                         | ê¸°ìˆ             |
| ------------- | --------------------------- | --------------- |
| FastAPI       | ìƒíƒœ ì „ì´ API ì œê³µ          | Python, FastAPI |
| Redis         | ìƒíƒœ ì €ì¥ì†Œ + ë©”ì‹œì§€ ë¸Œë¡œì»¤ | Redis           |
| Celery Worker | FSM ì „ì´ í›„ì²˜ë¦¬, ë¡œê¹…       | Celery          |
| Flower        | ì›Œì»¤ ëª¨ë‹ˆí„°ë§ UI            | mher/flower     |

## âš™ï¸ Level 3: Component (FSM ì„œë¹„ìŠ¤ ë‚´ë¶€)

| ì»´í¬ë„ŒíŠ¸           | ì„¤ëª…                                  |
| ------------------ | ------------------------------------- |
| `fsm_engine.py`    | ìƒíƒœ ì „ì´ ê·œì¹™ ê²€ì¦ ë° ì „ì´ ì‹¤í–‰      |
| `tasks.py`         | Celery íƒœìŠ¤í¬ ì •ì˜ (`log_transition`) |
| `fsm_definitions/` | FSM ì •ì˜ JSON ë³´ê´€ì†Œ                  |
| `schema.py`        | ìš”ì²­ ìŠ¤í‚¤ë§ˆ                           |

---
